@{
    ViewData["Title"] = "Home";
}
@if (User.IsInRole("Admin"))
{
    <!-- Admin users are redirected to the admin dashboard for a tailored experience -->
    <script>
        window.location.href = '/Admin/Dashboard';
    </script>
}
else
{
    <!-- Emergency Alert Banner -->
    <div id="emergencyAlert" class="alert-banner hidden bg-red-600 text-white p-4 text-center">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center">
                <i data-feather="alert-triangle" class="w-5 h-5 mr-2"></i>
                <span class="font-bold">EMERGENCY ALERT:</span>
                <span id="alertMessage" class="ml-2">Storm warning in Yangon region. Seek shelter immediately.</span>
            </div>
            <button onclick="dismissAlert()" class="ml-4">
                <i data-feather="x" class="w-4 h-4"></i>
            </button>
        </div>
    </div>

    <!-- Hero Section -->
    <div class="relative overflow-hidden">
        <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl">
                    <span class="block text-blue-400">Real-time</span>
                    <span class="block">Weather Intelligence</span>
                </h1>
                <p class="mt-3 max-w-md mx-auto text-base text-gray-300 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
                    Accurate forecasts, storm tracking, and emergency alerts for Myanmar and surrounding regions.
                </p>
                <div class="mt-8 flex justify-center">
                    <div class="inline-flex rounded-md shadow">
                        <a href="#forecast" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-700 hover:bg-blue-600">
                            View Current Forecast
                        </a>
                    </div>
                    <div class="ml-3 inline-flex">
                        <a href="#maps" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-gray-700 hover:bg-gray-600">
                            <i data-feather="map" class="w-4 h-4 mr-2"></i>
                            Interactive Map
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Current Weather Widget -->
    <section id="current-weather" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="bg-dark-blue rounded-xl shadow-lg overflow-hidden border border-accent-blue">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-white" data-translate="Current Weather">Current Weather</h2>
                    <div class="flex items-center text-sm text-gray-400">
                        <i data-feather="clock" class="w-4 h-4 mr-1"></i>
                        <span id="lastUpdated">Last updated: Just now</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Main Weather Card -->
                    <div class="bg-gradient-to-br from-blue-900 to-blue-800 rounded-lg p-6 text-white shadow-md border border-blue-700">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="text-xl font-semibold">Yangon</h3>
                                <p class="text-sm opacity-80">Myanmar</p>
                            </div>
                            <div class="text-right">
                                <p class="text-sm opacity-80">July 12, 2023</p>
                                <p class="text-sm opacity-80">3:45 PM</p>
                            </div>
                        </div>
                        <div class="mt-6 flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="text-5xl font-bold">28°C</div>
                                <div class="ml-4">
                                    <div class="text-sm">Partly Cloudy</div>
                                    <div class="text-xs opacity-80 mt-1">Feels like 30°C</div>
                                </div>
                            </div>
                            <div class="text-6xl">
                                <i data-feather="cloud" class="w-16 h-16"></i>
                            </div>
                        </div>
                        <div class="mt-6 grid grid-cols-3 gap-2 text-xs">
                            <div class="bg-white/10 p-2 rounded">
                                <div class="font-medium">Humidity</div>
                                <div>78%</div>
                            </div>
                            <div class="bg-white/10 p-2 rounded">
                                <div class="font-medium">Wind</div>
                                <div>12 km/h</div>
                            </div>
                            <div class="bg-white/10 p-2 rounded">
                                <div class="font-medium">Rain</div>
                                <div>10%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Storm Conditions -->
                    <div class="bg-gray-800 border border-gray-700 rounded-lg p-6 shadow-sm">
                        <h3 class="text-lg font-semibold text-white flex items-center" data-translate="Storm Conditions">
                            <i data-feather="wind" class="text-red-500 w-5 h-5 mr-2"></i>
                            Storm Conditions
                        </h3>
                        <div class="mt-4">
                            <div class="flex items-center justify-between text-sm py-2 border-b border-gray-100">
                                <span class="font-medium text-white">Active Storms</span>
                                <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">2</span>
                            </div>
                            <div class="mt-3">
                                <div class="flex items-center justify-between text-sm py-2">
                                    <span class="font-medium text-white">Bay of Bengal</span>
                                    <span class="text-red-400">Category 1</span>
                                </div>
                                <div class="flex items-center justify-between text-sm py-2">
                                    <span class="font-medium text-white">Andaman Sea</span>
                                    <span class="text-yellow-400">Tropical Depression</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Low Pressure Zones -->
                    <div class="bg-gray-800 border border-gray-700 rounded-lg p-6 shadow-sm">
                        <h3 class="text-lg font-semibold text-white flex items-center" data-translate="Low Pressure Zones">
                            <i data-feather="compass" class="text-purple-500 w-5 h-5 mr-2"></i>
                            Low Pressure Zones
                        </h3>
                        <div class="mt-4">
                            <div class="flex items-center justify-between text-sm py-2 border-b border-gray-100">
                                <span class="font-medium text-white">Active Zones</span>
                                <span class="bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full">3</span>
                            </div>
                            <div class="mt-3">
                                <div class="flex items-center justify-between text-sm py-2">
                                    <span class="text-white">Central Myanmar</span>
                                    <span class="text-purple-400">1008 hPa</span>
                                </div>
                                <div class="flex items-center justify-between text-sm py-2">
                                    <span class="text-white">Northern Thailand</span>
                                    <span class="text-purple-400">1010 hPa</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
}
<!-- Interactive Weather Map -->
<section id="maps" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
        <div class="p-6 pb-0">
            <h2 class="text-2xl font-bold text-white" data-translate="Interactive Weather Map">Interactive Weather Map</h2>
            <p class="mt-1 text-sm text-gray-300">Real-time satellite and radar data for Myanmar region</p>
        </div>
        <div class="relative">
            <div id="weather-map" class="w-full h-96 rounded-b-xl"></div>
            <div class="absolute top-4 right-4 z-10 bg-gray-800 rounded-md shadow-md p-2 border border-gray-700">
                <div class="flex space-x-2">
                    <button class="px-3 py-1 bg-blue-700 text-white rounded text-sm">Satellite</button>
                    <button class="px-3 py-1 bg-gray-700 text-gray-300 rounded text-sm">Radar</button>
                    <button class="px-3 py-1 bg-gray-700 text-gray-300 rounded text-sm">Temperature</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Forecast Section -->
<section id="forecast" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
        <div class="p-6">
            <h2 class="text-2xl font-bold text-white" data-translate="Weather Forecast">Weather Forecast</h2>
            <p class="mt-1 text-sm text-gray-300">Daily and weekly weather predictions for your location</p>
            <!-- Daily Forecast -->
            <div class="mt-8">
                <h3 class="text-lg font-semibold text-white mb-4">Daily Forecast</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-7 gap-4">
                    <!-- Day 1 -->
                    <div class="bg-gray-700 rounded-lg p-4 text-center border border-gray-600">
                        <div class="text-sm font-medium">Today</div>
                        <div class="my-3">
                            <i data-feather="cloud" class="w-8 h-8 mx-auto text-blue-500"></i>
                        </div>
                        <div class="flex justify-center space-x-2">
                            <span class="font-medium">28°</span>
                            <span class="text-gray-500">25°</span>
                        </div>
                    </div>
                    <!-- Day 2 -->
                    <div class="bg-blue-50 rounded-lg p-4 text-center">
                        <div class="text-sm font-medium">Wed</div>
                        <div class="my-3">
                            <i data-feather="cloud-rain" class="w-8 h-8 mx-auto text-blue-500"></i>
                        </div>
                        <div class="flex justify-center space-x-2">
                            <span class="font-medium">27°</span>
                            <span class="text-gray-500">24°</span>
                        </div>
                    </div>
                    <!-- Day 3 -->
                    <div class="bg-blue-50 rounded-lg p-4 text-center">
                        <div class="text-sm font-medium">Thu</div>
                        <div class="my-3">
                            <i data-feather="cloud-rain" class="w-8 h-8 mx-auto text-blue-500"></i>
                        </div>
                        <div class="flex justify-center space-x-2">
                            <span class="font-medium">26°</span>
                            <span class="text-gray-500">24°</span>
                        </div>
                    </div>
                    <!-- Day 4 -->
                    <div class="bg-blue-50 rounded-lg p-4 text-center">
                        <div class="text-sm font-medium">Fri</div>
                        <div class="my-3">
                            <i data-feather="sun" class="w-8 h-8 mx-auto text-yellow-500"></i>
                        </div>
                        <div class="flex justify-center space-x-2">
                            <span class="font-medium">30°</span>
                            <span class="text-gray-500">26°</span>
                        </div>
                    </div>
                    <!-- Day 5 -->
                    <div class="bg-blue-50 rounded-lg p-4 text-center">
                        <div class="text-sm font-medium">Sat</div>
                        <div class="my-3">
                            <i data-feather="sun" class="w-8 h-8 mx-auto text-yellow-500"></i>
                        </div>
                        <div class="flex justify-center space-x-2">
                            <span class="font-medium">31°</span>
                            <span class="text-gray-500">27°</span>
                        </div>
                    </div>
                    <!-- Day 6 -->
                    <div class="bg-blue-50 rounded-lg p-4 text-center">
                        <div class="text-sm font-medium">Sun</div>
                        <div class="my-3">
                            <i data-feather="cloud" class="w-8 h-8 mx-auto text-blue-500"></i>
                        </div>
                        <div class="flex justify-center space-x-2">
                            <span class="font-medium">29°</span>
                            <span class="text-gray-500">26°</span>
                        </div>
                    </div>
                    <!-- Day 7 -->
                    <div class="bg-blue-50 rounded-lg p-4 text-center">
                        <div class="text-sm font-medium">Mon</div>
                        <div class="my-3">
                            <i data-feather="cloud-lightning" class="w-8 h-8 mx-auto text-purple-500"></i>
                        </div>
                        <div class="flex justify-center space-x-2">
                            <span class="font-medium">27°</span>
                            <span class="text-gray-500">24°</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Hourly Forecast -->
            <div class="mt-12">
                <h3 class="text-lg font-semibold text-white mb-4">Hourly Forecast</h3>
                <p class="text-sm text-gray-300 mb-4">All times are in Myanmar Standard Time (UTC+6:30)</p>
                <div class="overflow-x-auto">
                    <div class="flex space-x-4 pb-4">
                        <!-- Hour 1 -->
                        <div class="bg-gray-700 rounded-lg p-4 text-center min-w-[80px] border border-gray-600">
                            <div class="text-sm font-medium text-white">Now</div>
                            <div class="my-3">
                                <i data-feather="cloud" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-white">28°</div>
                        </div>
                        <!-- Hour 2 -->
                        <div class="bg-blue-50 rounded-lg p-4 text-center min-w-[80px]">
                            <div class="text-sm font-medium text-gray-800">4 PM</div>
                            <div class="my-3">
                                <i data-feather="cloud" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-gray-800">29°</div>
                        </div>
                        <!-- Hour 3 -->
                        <div class="bg-blue-50 rounded-lg p-4 text-center min-w-[80px]">
                            <div class="text-sm font-medium text-gray-800">5 PM</div>
                            <div class="my-3">
                                <i data-feather="cloud-drizzle" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-gray-800">28°</div>
                        </div>
                        <!-- Hour 4 -->
                        <div class="bg-blue-50 rounded-lg p-4 text-center min-w-[80px]">
                            <div class="text-sm font-medium text-gray-800">6 PM</div>
                            <div class="my-3">
                                <i data-feather="cloud-rain" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-gray-800">27°</div>
                        </div>
                        <!-- Hour 5 -->
                        <div class="bg-blue-50 rounded-lg p-4 text-center min-w-[80px]">
                            <div class="text-sm font-medium text-gray-800">7 PM</div>
                            <div class="my-3">
                                <i data-feather="cloud-rain" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-gray-800">26°</div>
                        </div>
                        <!-- Hour 6 -->
                        <div class="bg-blue-50 rounded-lg p-4 text-center min-w-[80px]">
                            <div class="text-sm font-medium text-gray-800">8 PM</div>
                            <div class="my-3">
                                <i data-feather="cloud-rain" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-gray-800">26°</div>
                        </div>
                        <!-- Hour 7 -->
                        <div class="bg-blue-50 rounded-lg p-4 text-center min-w-[80px]">
                            <div class="text-sm font-medium text-gray-800">9 PM</div>
                            <div class="my-3">
                                <i data-feather="cloud" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-gray-800">25°</div>
                        </div>
                        <!-- Hour 8 -->
                        <div class="bg-blue-50 rounded-lg p-4 text-center min-w-[80px]">
                            <div class="text-sm font-medium text-gray-800">10 PM</div>
                            <div class="my-3">
                                <i data-feather="cloud" class="w-6 h-6 mx-auto text-blue-500"></i>
                            </div>
                            <div class="font-medium text-gray-800">25°</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Marine Forecast -->
<section id="marine" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
        <div class="p-6">
            <h2 class="text-2xl font-bold text-white" data-translate="Marine Weather Forecast">Marine Weather Forecast</h2>
            <p class="mt-1 text-sm text-gray-300">Sea conditions and warnings for Myanmar coastal waters</p>
            <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Sea Conditions -->
                <div class="bg-gray-700 rounded-lg p-6 border border-gray-600">
                    <h3 class="text-lg font-semibold text-white flex items-center">
                        <i data-feather="navigation" class="text-blue-500 w-5 h-5 mr-2"></i>
                        Sea Conditions
                    </h3>
                    <div class="mt-4 space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="font-medium text-white">Wave Height</span>
                            <span class="text-white">1.5 - 2.5 meters</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="font-medium text-white">Wind Speed</span>
                            <span class="text-white">15 - 25 knots</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="font-medium text-white">Visibility</span>
                            <span class="text-white">Good (10+ km)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="font-medium text-white">Water Temp</span>
                            <span class="text-white">29°C</span>
                        </div>
                    </div>
                </div>

                <!-- Storm Warnings -->
                <div class="bg-gray-700 rounded-lg p-6 border border-gray-600">
                    <h3 class="text-lg font-semibold text-white flex items-center">
                        <i data-feather="alert-octagon" class="text-red-500 w-5 h-5 mr-2"></i>
                        Storm Warnings
                    </h3>
                    <div class="mt-4 space-y-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <i data-feather="alert-triangle" class="text-red-500 w-4 h-4 mt-1 mr-2"></i>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-white">Tropical Storm "MAWAR" currently located at 12.5°N, 94.0°E</p>
                                <p class="text-xs text-gray-300 mt-1">Moving NW at 15 km/h with maximum winds of 85 km/h</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <i data-feather="alert-triangle" class="text-red-500 w-4 h-4 mt-1 mr-2"></i>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-white">Gale warnings for Bay of Bengal and Andaman Sea</p>
                                <p class="text-xs text-gray-300 mt-1">Small craft advised not to venture out to sea</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Public Notifications -->
<section id="alerts" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
        <div class="p-6">
            <h2 class="text-2xl font-bold text-white" data-translate="Public Notifications">Public Notifications</h2>
            <p class="mt-1 text-sm text-gray-300">Real-time alerts and emergency weather warnings</p>
            <div class="mt-8 space-y-4">
                <!-- Alert 1 -->
                <div class="bg-gray-700 border-l-4 border-yellow-500 p-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i data-feather="alert-circle" class="text-yellow-500 w-5 h-5"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm font-medium text-white">Heavy Rain Warning</p>
                            <p class="text-sm text-white mt-1">Issued for Yangon, Bago, and Ayeyarwady regions until 18:00 today.</p>
                            <p class="text-xs text-gray-300 mt-2">Issued: July 12, 2023 13:00</p>
                        </div>
                    </div>
                </div>

                <!-- Alert 2 -->
                <div class="bg-gray-700 border-l-4 border-orange-500 p-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i data-feather="alert-octagon" class="text-orange-500 w-5 h-5"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm font-medium text-white">Flood Advisory</p>
                            <p class="text-sm text-white mt-1">Low-lying areas in Mon State may experience flooding due to high tides and heavy rainfall.</p>
                            <p class="text-xs text-gray-300 mt-2">Issued: July 12, 2023 10:30</p>
                        </div>
                    </div>
                </div>

                <!-- Alert 3 -->
                <div class="bg-gray-700 border-l-4 border-red-500 p-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i data-feather="alert-triangle" class="text-red-500 w-5 h-5"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm font-medium text-white">Emergency Storm Warning</p>
                            <p class="text-sm text-white mt-1">Tropical Storm approaching Rakhine Coast. Evacuation orders for coastal towns.</p>
                            <p class="text-xs text-gray-300 mt-2">Issued: July 12, 2023 08:15</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-8">
                <h3 class="text-lg font-semibold text-white mb-4">Standard Operating Procedures</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-700 rounded-lg p-6 border border-gray-600">
                        <h4 class="font-medium text-white flex items-center">
                            <i data-feather="wind" class="text-blue-500 w-4 h-4 mr-2"></i>
                            During Storms
                        </h4>
                        <ul class="mt-3 text-sm text-white space-y-2">
                            <li class="flex items-start">
                                <i data-feather="check" class="text-green-500 w-4 h-4 mr-2 mt-0.5"></i>
                                <span>Seek shelter in a sturdy building</span>
                            </li>
                            <li class="flex items-start">
                                <i data-feather="check" class="text-green-500 w-4 h-4 mr-2 mt-0.5"></i>
                                <span>Stay away from windows and glass doors</span>
                            </li>
                            <li class="flex items-start">
                                <i data-feather="check" class="text-green-500 w-4 h-4 mr-2 mt-0.5"></i>
                                <span>Have emergency supplies ready</span>
                            </li>
                        </ul>
                    </div>
                    <div class="bg-gray-700 rounded-lg p-6 border border-gray-600">
                        <h4 class="font-medium text-white flex items-center">
                            <i data-feather="droplet" class="text-blue-500 w-4 h-4 mr-2"></i>
                            During Floods
                        </h4>
                        <ul class="mt-3 text-sm text-white space-y-2">
                            <li class="flex items-start">
                                <i data-feather="check" class="text-green-500 w-4 h-4 mr-2 mt-0.5"></i>
                                <span>Move to higher ground immediately</span>
                            </li>
                            <li class="flex items-start">
                                <i data-feather="check" class="text-green-500 w-4 h-4 mr-2 mt-0.5"></i>
                                <span>Do not walk or drive through flood waters</span>
                            </li>
                            <li class="flex items-start">
                                <i data-feather="check" class="text-green-500 w-4 h-4 mr-2 mt-0.5"></i>
                                <span>Turn off utilities at main switches if instructed</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        (function(){
            const btn = document.getElementById('search-btn');
            const input = document.getElementById('search-input');
            const result = document.getElementById('weather-result');

            function showDummy(){
                // This is a placeholder for wiring to a real API later.
                document.getElementById('result-location').textContent = 'Seattle, US';
                document.getElementById('result-time').textContent = new Date().toLocaleString();
                document.getElementById('result-temp').textContent = '18°C';
                document.getElementById('result-desc').textContent = 'Partly cloudy';
                document.getElementById('result-humidity').textContent = '72%';
                document.getElementById('result-wind').textContent = '12 km/h';
                document.getElementById('result-pressure').textContent = '1012 hPa';
                result.classList.remove('d-none');
            }

            btn.addEventListener('click', ()=>{
                const q = input.value.trim();
                if(!q){
                    input.classList.add('is-invalid');
                    return;
                }
                input.classList.remove('is-invalid');
                showDummy();
            });

            input.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') btn.click(); });
        })();
    </script>
}
